options:
  type: INNODB
  collate: utf8_general_ci
  charset: utf8



User:
  tableName: sys_users
  columns:
    login: string(20)
    password: string(200)
    role:
      type: integer
      default: 1
  relations:
    Role:
      local: role
      foreign: id



Resource:
  tableName: sys_resources
  columns:
    url: string(200)
    description: string(500)
    rule: integer
  relations:
    Rule:
      local: rule
      foreign: id



Role:
  tableName: sys_roles
  columns:
    name: string(20)
  relations:
    Users:
      class: User
      type: many
      local: id
      foreign: role
    Rules:
      foreignAlias: Roles
      class: Rule
      refClass: Access

Rule:
  tableName: sys_rules
  columns:
    name: string(20)
  relations:
    Resource:
      local: id
      foreign: rule
      type: many
    Roles:
      foreignAlias: Rules
      class: Role
      refClass: Access

Access:
  tableName: sys_access
  columns:
    role_id:
      type: integer
      primary: true
    rule_id:
      type: integer
      primary: true
  relations:
    Roles:
      class: Role
    Rules:
      class: Rule